<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.ssm.dao.InterviewDao">
  <resultMap id="InterviewMap" type="com.ssm.pojo.Interview">
    <!--
      WARNING - @mbg.generated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    <id column="Interview_ID"  property="interviewId" />
    <result column="STUDENT_ID"  property="studentId" />
    <result column="STUDENT_NAME"  property="studentName" />
    <result column="CLASS_ID"  property="classId" />
    <result column="CLASS_NAME"  property="className" />
    <result column="interview_date"  property="interviewDate" />
    <result column="interview_content"  property="interviewContent" />
    <!-- 一对一 -->
    <!--<association property="className" column="CLASS_ID" select="com.ssm.mappers.ClasssMapper.getClassNameById" />-->
  <!-- 一对多-->
    <!--<collection property="className" column="CLASS_ID"  select="com.ssm.mappers.ClasssMapper.getClassNameById"></collection>-->
  </resultMap>
  <select id="getInteList" resultMap="InterviewMap" >
    select i.*,s.student_name,c.class_name from classs c, student s, interview i where c.class_id = s.class_id and i.student_id = s.student_id
  </select>
  <delete id="delStuById" parameterType="java.lang.Integer">
    delete from STUDENT
    where STUDENT_ID = #{studentId}
  </delete>
  <insert id="addInte" parameterType="com.ssm.pojo.Interview">
    insert into interview (interview_Id, STUDENT_ID, CLASS_ID,
      interview_date,interview_content)
    values (seq_interview_id.nextval, #{studentId}, #{classId},
      #{interviewDate}, #{interviewContent})
  </insert>
  <update id="updateInte" parameterType="com.ssm.pojo.Interview">
    update interview set interview_date=#{interviewDate},interview_content=#{interviewContent} where interview_id=#{interviewId}
  </update>
  <select id="getIntById" resultMap="InterviewMap">
    select i.*,s.student_name,c.class_name from classs c, student s, interview i where c.class_id = s.class_id and i.student_id = s.student_id and interview_id=#{interviewId}
  </select>
</mapper>